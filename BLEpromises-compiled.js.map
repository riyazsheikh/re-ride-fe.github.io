{"version":3,"sources":["BLEpromises.js"],"names":[],"mappings":";;AAAA;;;;AAKA;;;AAGA,IAAI,gBAAJ;;AAGA,SAAS,kBAAT,GAA8B;AAC1B,QAAI,cAAc,SAAS,aAAT,CAAuB,UAAvB,EAAmC,KAArD;AACA,QAAI,YAAY,UAAZ,CAAuB,IAAvB,CAAJ,EAAkC;AAC9B,sBAAc,SAAS,WAAT,CAAd;AACH;;AAED,QAAI,qBAAqB,SAAS,aAAT,CAAuB,iBAAvB,EAA0C,KAAnE;AACA,QAAI,mBAAmB,UAAnB,CAA8B,IAA9B,CAAJ,EAAyC;AACrC,6BAAqB,SAAS,kBAAT,CAArB;AACH;;AAED,QAAI,gCAAJ;AACA,cAAU,SAAV,CAAoB,aAApB,CAAkC,EAAC,SAAS,CAAC,EAAC,UAAU,CAAC,WAAD,CAAX,EAAD,CAAV,EAAlC,EACK,IADL,CACU,kBAAU;AACZ,YAAI,8BAAJ;AACA,eAAO,OAAO,IAAP,CAAY,OAAZ,EAAP;AACH,KAJL,EAKK,IALL,CAKU,kBAAU;AACZ,YAAI,oBAAJ;AACA,eAAO,OAAO,iBAAP,CAAyB,WAAzB,CAAP;AACH,KARL,EASK,IATL,CASU,mBAAW;AACb,YAAI,2BAAJ;AACA;AACA,eAAO,QAAQ,iBAAR,CAA0B,kBAA1B,CAAP;AACH,KAbL,EAcK,IAdL,CAcU,0BAAkB;AACpB,2BAAmB,cAAnB;AACA,eAAO,iBAAiB,kBAAjB,GAAsC,IAAtC,CAA2C,aAAK;AACnD,gBAAI,yBAAJ;AACA,6BAAiB,gBAAjB,CAAkC,4BAAlC,EACI,mBADJ;AAEH,SAJM,CAAP;AAKH,KArBL,EAsBK,KAtBL,CAsBW,iBAAS;AACZ,YAAI,WAAW,KAAf;AACH,KAxBL;AAyBH;;AAED,SAAS,iBAAT,GAA6B;AACzB,QAAI,gBAAJ,EAAsB;AAClB,yBAAiB,iBAAjB,GACK,IADL,CACU,aAAK;AACP,gBAAI,yBAAJ;AACA,6BAAiB,mBAAjB,CAAqC,4BAArC,EACI,mBADJ;AAEH,SALL,EAMK,KANL,CAMW,iBAAS;AACZ,gBAAI,WAAW,KAAf;AACH,SARL;AASH;AACJ;;AAED,SAAS,mBAAT,CAA6B,KAA7B,EAAoC;AAChC,QAAI,QAAQ,MAAM,MAAN,CAAa,KAAzB;AACA,QAAI,IAAI,MAAM,QAAN,CAAe,CAAf,EAAkB,QAAlB,EAAR;AACA,QAAI,OAAO,CAAX;AAEH","file":"BLEpromises-compiled.js","sourcesContent":["/**\n * Created by sokoler on 04/08/16.\n */\n\n\n//require(\"babel-polyfill\");\n\n\nvar myCharacteristic;\n\n\nfunction onStartButtonClick() {\n    let serviceUuid = document.querySelector('#service').value;\n    if (serviceUuid.startsWith('0x')) {\n        serviceUuid = parseInt(serviceUuid);\n    }\n\n    let characteristicUuid = document.querySelector('#characteristic').value;\n    if (characteristicUuid.startsWith('0x')) {\n        characteristicUuid = parseInt(characteristicUuid);\n    }\n\n    log('Requesting Bluetooth Device...');\n    navigator.bluetooth.requestDevice({filters: [{services: [serviceUuid]}]})\n        .then(device => {\n            log('Connecting to GATT Server...');\n            return device.gatt.connect();\n        })\n        .then(server => {\n            log('Getting Service...');\n            return server.getPrimaryService(serviceUuid);\n        })\n        .then(service => {\n            log('Getting Characteristic...');\n            //tst = service.getCharacteristic(characteristicUuid);\n            return service.getCharacteristic(characteristicUuid);\n        })\n        .then(characteristic => {\n            myCharacteristic = characteristic;\n            return myCharacteristic.startNotifications().then(_ => {\n                log('> Notifications started');\n                myCharacteristic.addEventListener('characteristicvaluechanged',\n                    handleNotifications);\n            });\n        })\n        .catch(error => {\n            log('Argh! ' + error);\n        });\n}\n\nfunction onStopButtonClick() {\n    if (myCharacteristic) {\n        myCharacteristic.stopNotifications()\n            .then(_ => {\n                log('> Notifications stopped');\n                myCharacteristic.removeEventListener('characteristicvaluechanged',\n                    handleNotifications);\n            })\n            .catch(error => {\n                log('Argh! ' + error);\n            });\n    }\n}\n\nfunction handleNotifications(event) {\n    let value = event.target.value;\n    let b = value.getUint8(0).toString();\n    log('> ' + b);\n\n}\n"]}